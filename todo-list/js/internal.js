"use strict";document.addEventListener("DOMContentLoaded",function(){function n(){var t;0===s.length&&(o.insertAdjacentHTML("beforebegin",'<div class="b-main-block__empty">\n                                            <span class="b-main-block__empty-text">Todo List empty</span>\n                                            <img class="b-main-block__image" src="images/content/empty.svg" width="268" height="235" alt="Todo List empty" title="">\n                                        </div>'),a.classList.remove("active")),0<s.length&&((t=document.querySelector(".b-main-block__empty"))&&t.remove(),a.classList.add("active"))}function c(){localStorage.setItem("tasks",JSON.stringify(s))}function e(t){t='<li class="b-main-block__item '+(t.done?"done":"")+'" id="'+t.id+'">\n                                <i class="b-icon b-icon--done icon-check icon-check--done"></i>\n                                <span class="b-main-block__item-text">'+t.text+'</span>\n                                <button class="b-main-block__btn b-main-block__btn--done" data-action="done">\n                                    <i class="b-icon b-icon--check icon-check icon-check--check"></i>\n                                </button>\n                                <button class="b-main-block__btn b-main-block__btn--remove" data-action="remove">\n                                    <i class="b-icon b-icon--trach icon-trash icon-trash--trach"></i>\n                                </button>\n                            </li>';a.insertAdjacentHTML("beforeEnd",t)}var o,i,a,s;o=document.querySelector(".b-main-block__form"),i=document.querySelector("#task"),a=document.querySelector(".b-main-block__list"),s=[],localStorage.getItem("tasks")&&(s=JSON.parse(localStorage.getItem("tasks"))).forEach(function(t){e(t)}),n(),o.addEventListener("submit",function(t){t.preventDefault();t=i.value,t={id:Date.now(),text:t,done:!1};s.push(t),e(t),i.value="",n(),c()}),a.addEventListener("click",function(t){{var e;"remove"===t.target.dataset.action&&(t=t.target.closest(".b-main-block__item"),e=t.id,s=s.filter(function(t){return t.id!=e}),t.remove())}n(),c()}),a.addEventListener("click",function(t){{var e;"done"===t.target.dataset.action&&((t=t.target.closest(".b-main-block__item")).classList.toggle("done"),e=t.id,(t=s.find(function(t){return t.id==e})).done=!t.done)}c()})});