"use strict";!function(){var e=document.querySelector(".b-main-block__form"),n=document.querySelector("#task"),c=document.querySelector(".b-main-block__list"),i=[];function o(){var t;0===i.length&&(e.insertAdjacentHTML("beforebegin",'<div class="b-main-block__empty">\n                                        <span class="b-main-block__empty-text">Todo List empty</span>\n                                        <img class="b-main-block__image" src="images/content/empty.svg" width="268" height="235" alt="Todo List empty" title="">\n                                    </div>'),c.classList.remove("active")),0<i.length&&((t=document.querySelector(".b-main-block__empty"))&&t.remove(),c.classList.add("active"))}function a(){localStorage.setItem("tasks",JSON.stringify(i))}function s(t){t='<li class="b-main-block__item '+(t.done?"done":"")+'" id="'+t.id+'">\n                            <i class="b-icon b-icon--done icon-check icon-check--done"></i>\n                            <span class="b-main-block__item-text">'+t.text+'</span>\n                            <button class="b-main-block__btn b-main-block__btn--done" data-action="done">\n                                <i class="b-icon b-icon--check icon-check icon-check--check"></i>\n                            </button>\n                            <button class="b-main-block__btn b-main-block__btn--remove" data-action="remove">\n                                <i class="b-icon b-icon--trach icon-trash icon-trash--trach"></i>\n                            </button>\n                        </li>';c.insertAdjacentHTML("beforeEnd",t)}localStorage.getItem("tasks")&&(i=JSON.parse(localStorage.getItem("tasks"))).forEach(function(t){s(t)}),o(),e.addEventListener("submit",function(t){t.preventDefault();t=n.value,t={id:Date.now(),text:t,done:!1};i.push(t),s(t),n.value="",o(),a()}),c.addEventListener("click",function(t){{var e;"remove"===t.target.dataset.action&&(t=t.target.closest(".b-main-block__item"),e=t.id,i=i.filter(function(t){return t.id!=e}),t.remove())}o(),a()}),c.addEventListener("click",function(t){{var e;"done"===t.target.dataset.action&&((t=t.target.closest(".b-main-block__item")).classList.toggle("done"),e=t.id,(t=i.find(function(t){return t.id==e})).done=!t.done)}a()})}();